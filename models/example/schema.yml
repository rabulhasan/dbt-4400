version: 2

models:
  - name: DateDimension
    description: "This model represents dimensions of dates with various granularities."
    columns:
      - name: date_ID
        description: "A unique identifier for each date, created using the ROW_NUMBER() window function."
        tests:
          - unique
          - not_null
      - name: year
        description: "The year component of the date."
      - name: month
        description: "The month component of the date."
      - name: day
        description: "The day component of the date."
      - name: month_name
        description: "The name of the month."
      - name: day_name
        description: "The name of the day."
      - name: full_date
        description: "The full date representation."

  - name: LocationDimension
    description: "This model provides various location-related dimensions."
    columns:
      - name: location_ID
        description: "A unique identifier for each location, generated by the ROW_NUMBER() window function."
        tests:
          - unique
          - not_null
      - name: borough
        description: "The borough in which the location resides."
      - name: zip_code
        description: "The postal zip code of the location."
        tests:
          - not_null
      - name: latitude
        description: "The latitude coordinate of the location."
      - name: longitude
        description: "The longitude coordinate of the location."
      - name: location_type
        description: "The type or category of the location."
 
  - name: SignComplaintTypeDimension
    description: "This model categorizes different types of sign complaints."
    columns:
      - name: sign_complaintType_ID
        description: "A unique identifier for each sign complaint type, generated by the ROW_NUMBER() window function."
        tests:
          - unique
          - not_null
      - name: complaint_type
        description: "The type of complaint."
        tests:
          - not_null
      - name: complaint_descriptor
        description: "A detailed description of the complaint type."
  
  - name: StatusDimension
    description: "This model provides a unique status identifier and its associated status."
    columns:
      - name: status_ID
        description: "A unique identifier for each status, generated by a hash function."
        tests:
          - unique
          - not_null
      - name: status
        description: "The status of the service request."
        tests:
          - not_null

  - name: TimeDimension
    description: "This model extracts time-related dimensions from the created_date field."
    columns:
      - name: time_ID
        description: "A unique identifier for each time entry, generated by the ROW_NUMBER() window function."
        tests:
          - unique
          - not_null
      - name: hour
        description: "The hour extracted from the created_date."
        tests:
          - not_null
      - name: minute
        description: "The minute extracted from the created_date."
        tests:
          - not_null
  - name: VehicleCollisionsFactTable
    description: "This fact table records details of vehicle collisions, with references to dimensions of time, date, location, and vehicle type."
    columns:
      - name: collision_id
        description: "A unique identifier for each collision record, created using the ROW_NUMBER() window function."
        tests:
          - unique
          - not_null
      - name: collision_timestamp
        description: "The timestamp when the collision occurred."
      - name: collision_date_ID
        description: "Reference to the DateDimension model, linking to the date when the collision occurred."
        tests:
          - relationships:
              to: ref('CollisionDateDimension')
              field: date_ID
      - name: collision_location_ID
        description: "Reference to the LocationDimension model, linking to the location where the collision occurred."
        tests:
          - relationships:
              to: ref('CollisionLocationDimension')
              field: location_ID
      - name: collision_time_ID
        description: "Reference to the TimeDimension model, linking to the time when the collision occurred."
        tests:
          - relationships:
              to: ref('CollisionTimeDimension')
              field: time_ID
      - name: collision_vehicleType_ID
        description: "Reference to the VehicleTypeDimension model, linking to the type of vehicle involved in the collision."
        tests:
          - relationships:
              to: ref('CollisionVehicleTypeDimension')
              field: vehicleType_ID

  